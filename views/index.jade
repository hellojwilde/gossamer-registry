extends layout

block content
  .container.with-fixed-header
    .row
      .news.col-sm-8
        h3.news-heading What's new

        for item in news
          .news-item
            .news-item-timestamp.pull-right=moment.unix(item.timestamp).fromNow()

            a.news-item-user(href=user.profile.profileUrl)
              img.news-item-user-avatar.img-circle(
                src=item.profile._json.avatar_url, 
                alt=item.profile.displayName + ' Avatar'
              )
              =item.profile.displayName

            span.news-item-action
              case item.details.type
                when 'newExp'
                  =' created '
                  a(href='/exp/' + item.details.id)= item.details.title

      .col-sm-4
        .panel.panel-default
          .panel-heading
            if exps && exps.length
              a.btn.btn-default.btn-sm.btn-primary.pull-right.exp-new-btn(href='/new-exp')
                span.glyphicon.glyphicon-plus 
                span &nbsp;New

            h3.panel-title Your experiments
            
          if exps && exps.length
            .list-group
              each exp in exps
                a.exp(href='/exp/' + exp.id)
                  .list-group-item
                    .exp-name= exp.title
                    .exp-details
                      span.exp-details-item
                        span.glyphicon.glyphicon-book
                        = exp.owner + '/' + exp.repo

                      span.exp-details-item
                        span.glyphicon.glyphicon-bookmark
                        = exp.branch
          else
            .panel-body
              p You haven't created any experiments yet. Launch your first today.
              a.btn.btn-default.btn-block.btn-primary(href='/new-exp')
                span.glyphicon.glyphicon-plus 
                span &nbsp;New



        